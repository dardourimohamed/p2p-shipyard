var e=new TextEncoder;function t(t,i,r){t.length>50?function(t,i,r){e.encodeInto(t,i.subarray(r))}(t,i,r):function(e,t,i){for(var r=e.length,n=i,o=0;o<r;){var s=e.charCodeAt(o++);if(4294967168&s){if(4294965248&s){if(s>=55296&&s<=56319&&o<r){var a=e.charCodeAt(o);56320==(64512&a)&&(++o,s=((1023&s)<<10)+(1023&a)+65536)}4294901760&s?(t[n++]=s>>18&7|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128):(t[n++]=s>>12&15|224,t[n++]=s>>6&63|128)}else t[n++]=s>>6&31|192;t[n++]=63&s|128}else t[n++]=s}}(t,i,r)}new TextDecoder;var i,r=function(e,t){this.type=e,this.data=t},n=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=function(e){function t(i){var r=e.call(this,i)||this,n=Object.create(t.prototype);return Object.setPrototypeOf(r,n),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return n(t,e),t}(Error);function s(e,t,i){var r=Math.floor(i/4294967296),n=i;e.setUint32(t,r),e.setUint32(t+4,n)}var a=4294967295,c=17179869183;var h={type:-1,encode:function(e){var t,i,r,n;return e instanceof Date?function(e){var t,i=e.sec,r=e.nsec;if(i>=0&&r>=0&&i<=c){if(0===r&&i<=a){var n=new Uint8Array(4);return(t=new DataView(n.buffer)).setUint32(0,i),n}var o=i/4294967296,h=4294967295&i;return n=new Uint8Array(8),(t=new DataView(n.buffer)).setUint32(0,r<<2|3&o),t.setUint32(4,h),n}return n=new Uint8Array(12),(t=new DataView(n.buffer)).setUint32(0,r),s(t,4,i),n}((t=e.getTime(),i=Math.floor(t/1e3),r=1e6*(t-1e3*i),n=Math.floor(r/1e9),{sec:i+n,nsec:r-1e9*n})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:r=t.getUint32(0),nsec:0};case 8:var i=t.getUint32(0);return{sec:r=4294967296*(3&i)+t.getUint32(4),nsec:i>>>2};case 12:var r=function(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}(t,4);return{sec:r,nsec:t.getUint32(0)};default:throw new o("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},f=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(h)}return e.prototype.register=function(e){var t=e.type,i=e.encode,r=e.decode;if(t>=0)this.encoders[t]=i,this.decoders[t]=r;else{var n=1+t;this.builtInEncoders[n]=i,this.builtInDecoders[n]=r}},e.prototype.tryToEncode=function(e,t){for(var i=0;i<this.builtInEncoders.length;i++){if(null!=(n=this.builtInEncoders[i]))if(null!=(o=n(e,t)))return new r(-1-i,o)}for(i=0;i<this.encoders.length;i++){var n,o;if(null!=(n=this.encoders[i]))if(null!=(o=n(e,t)))return new r(i,o)}return e instanceof r?e:null},e.prototype.decode=function(e,t,i){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,i):new r(t,e)},e.defaultCodec=new e,e}();var u,l,w=function(){function e(e){var t,i,r,n,o,s,a,c;this.extensionCodec=null!==(t=null==e?void 0:e.extensionCodec)&&void 0!==t?t:f.defaultCodec,this.context=null==e?void 0:e.context,this.useBigInt64=null!==(i=null==e?void 0:e.useBigInt64)&&void 0!==i&&i,this.maxDepth=null!==(r=null==e?void 0:e.maxDepth)&&void 0!==r?r:100,this.initialBufferSize=null!==(n=null==e?void 0:e.initialBufferSize)&&void 0!==n?n:2048,this.sortKeys=null!==(o=null==e?void 0:e.sortKeys)&&void 0!==o&&o,this.forceFloat32=null!==(s=null==e?void 0:e.forceFloat32)&&void 0!==s&&s,this.ignoreUndefined=null!==(a=null==e?void 0:e.ignoreUndefined)&&void 0!==a&&a,this.forceIntegerToFloat=null!==(c=null==e?void 0:e.forceIntegerToFloat)&&void 0!==c&&c,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),i=new Uint8Array(t),r=new DataView(t);i.set(this.bytes),this.view=r,this.bytes=i},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},e.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.encodeBigInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){var i=function(e){for(var t=e.length,i=0,r=0;r<t;){var n=e.charCodeAt(r++);if(4294967168&n)if(4294965248&n){if(n>=55296&&n<=56319&&r<t){var o=e.charCodeAt(r);56320==(64512&o)&&(++r,n=((1023&n)<<10)+(1023&o)+65536)}i+=4294901760&n?4:3}else i+=2;else i++}return i}(e);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),t(e,this.bytes,this.pos),this.pos+=i},e.prototype.encodeObject=function(e,t){var i=this.extensionCodec.tryToEncode(e,this.context);if(null!=i)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var i,r=(i=e)instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?new Uint8Array(i):Uint8Array.from(i);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else{if(!(i<4294967296))throw new Error("Too large array: ".concat(i));this.writeU8(221),this.writeU32(i)}for(var r=0,n=e;r<n.length;r++){var o=n[r];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var i=0,r=0,n=t;r<n.length;r++){void 0!==e[n[r]]&&i++}return i},e.prototype.encodeMap=function(e,t){var i=Object.keys(e);this.sortKeys&&i.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var n=0,o=i;n<o.length;n++){var s=o[n],a=e[s];this.ignoreUndefined&&void 0===a||(this.encodeString(s),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,i){var r=i/4294967296,n=i;e.setUint32(t,r),e.setUint32(t+4,n)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),s(this.view,this.pos,e),this.pos+=8},e.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},e.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},e}();function p(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function d(e,t={},i){return window.__TAURI_INTERNALS__.invoke(e,t,i)}async function y(e,t,i){const r={kind:"Any"};return d("plugin:event|listen",{event:e,target:r,handler:p(t)}).then((t=>async()=>async function(e,t){await d("plugin:event|unlisten",{event:e,eventId:t})}(e,t)))}async function U(e,t,i){const r=(new Error).stack?.split("\n").map((e=>e.split("@"))),n=r?.filter((([e,t])=>e.length>0&&"[native code]"!==t)),{file:o,line:s,keyValues:a}=i??{};let c=n?.[0]?.filter((e=>e.length>0)).join("@");"Error"===c&&(c="webview::unknown"),await d("plugin:log|log",{level:e,message:t,location:c,file:o,line:s,keyValues:a})}async function g(e,t){await U(l.Error,e,t)}async function v(e,t){await U(l.Warn,e,t)}async function b(e,t){await U(l.Info,e,t)}async function _(e,t){await U(l.Debug,e,t)}async function E(e,t){await U(l.Trace,e,t)}async function I(){return await async function(e){return await y("log://log",(t=>{const{level:i}=t.payload;let{message:r}=t.payload;r=r.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,""),e({message:r,level:i})}))}((({level:e,message:t})=>{switch(e){case l.Trace:console.log(t);break;case l.Debug:console.debug(t);break;case l.Info:console.info(t);break;case l.Warn:console.warn(t);break;case l.Error:console.error(t);break;default:throw new Error(`unknown log level ${e}`)}}))}"function"==typeof SuppressedError&&SuppressedError,function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG="tauri://drag",e.DROP="tauri://drop",e.DROP_OVER="tauri://drop-over",e.DROP_CANCELLED="tauri://drag-cancelled"}(u||(u={})),function(e){e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warn=4]="Warn",e[e.Error=5]="Error"}(l||(l={}));const m=async()=>A(32),A=async e=>globalThis.crypto.getRandomValues(new Uint8Array(e));setTimeout((()=>{I().then((()=>{console.trace=E,console.log=_,console.info=b,console.warn=v,console.error=g}))})),window.__HC_ZOME_CALL_SIGNER__={signZomeCall:e=>T(e)};const T=async e=>{const t={provenance:Array.from(e.provenance),cell_id:[Array.from(e.cell_id[0]),Array.from(e.cell_id[1])],zome_name:e.zome_name,fn_name:e.fn_name,payload:Array.from((i=e.payload,new w(r).encodeSharedRef(i))),nonce:Array.from(await m()),expires_at:1e3*(Date.now()+3e5)};var i,r;const n=await d("plugin:holochain|sign_zome_call",{zomeCallUnsigned:t});return{provenance:Uint8Array.from(n.provenance),cap_secret:null,cell_id:[Uint8Array.from(n.cell_id[0]),Uint8Array.from(n.cell_id[1])],zome_name:n.zome_name,fn_name:n.fn_name,payload:Uint8Array.from(n.payload),signature:Uint8Array.from(n.signature),expires_at:n.expires_at,nonce:Uint8Array.from(n.nonce)}};
